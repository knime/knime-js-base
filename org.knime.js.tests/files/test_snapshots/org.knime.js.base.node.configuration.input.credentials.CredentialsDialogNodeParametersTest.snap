{
  "data" : {
    "model" : {
      "label" : "Label",
      "description" : "Enter Description",
      "flowVariableName" : "credentials",
      "parameterName" : "credentials",
      "hideInDialog" : false,
      "required" : true,
      "defaultValue" : {
        "savedPrior52" : false,
        "credentialsParametersPrior52" : {
          "credentials" : {
            "isHiddenPassword" : false,
            "isHiddenSecondFactor" : false,
            "username" : ""
          },
          "isSavePassword" : false,
          "savedPrior52" : false
        },
        "credentialsParametersSince52" : {
          "credentials" : {
            "isHiddenPassword" : false,
            "isHiddenSecondFactor" : false,
            "username" : ""
          },
          "isSavePassword" : false,
          "savedPrior52" : false
        },
        "useServerLoginCredentials" : false
      },
      "credentialsSource" : "USER_INPUT",
      "showInputFields" : true,
      "enableUsernameField" : true,
      "usernameLabel" : "User",
      "passwordLabel" : "Password",
      "errorMessageString" : ""
    }
  },
  "schema" : {
    "type" : "object",
    "properties" : {
      "model" : {
        "type" : "object",
        "properties" : {
          "credentialsSource" : {
            "oneOf" : [ {
              "const" : "USER_INPUT",
              "title" : "User input"
            }, {
              "const" : "KNIME_SERVER_LOGIN",
              "title" : "KNIME Server login (legacy)"
            } ],
            "title" : "Credentials source",
            "description" : "The source of the credentials:\n<ul>\n<li><b>User input</b>: The credentials need to be provided by the user.</li>\n<li><b>KNIME Server login (legacy)</b>: The credentials are retrieved from the KNIME Server login when executed as part of a job on KNIME Server. Please note that this option is not supported if your KNIME Server is configured to use single sign-on (SSO) via OAuth/OIDC.</li>\n</ul>",
            "default" : "USER_INPUT"
          },
          "defaultValue" : {
            "type" : "object",
            "properties" : {
              "credentialsParametersPrior52" : {
                "type" : "object",
                "properties" : {
                  "credentials" : {
                    "type" : "object",
                    "properties" : {
                      "password" : {
                        "type" : "string",
                        "default" : ""
                      },
                      "secondFactor" : {
                        "type" : "string",
                        "default" : ""
                      },
                      "username" : {
                        "type" : "string",
                        "default" : ""
                      }
                    },
                    "title" : "Default username & password",
                    "description" : "The default credentials. When the credentials are for a KNIME Hub, username refers to application password id and password to application password.",
                    "default" : {
                      "isHiddenPassword" : false,
                      "isHiddenSecondFactor" : false,
                      "username" : ""
                    }
                  },
                  "isSavePassword" : {
                    "type" : "boolean",
                    "title" : "Save password in configuration (weakly encrypted)",
                    "description" : "Whether the password should be saved with the workflow. Note that, if saved, the password can be revealed with modest effort by looking at the encryption algorithm used in KNIME's (open) source code. If the password is not saved the user will be prompted for the password when the workflow is opened unless the node is already saved executed. In the latter case the password is not prompted assuming downstream consumer nodes, e.g. a DB reader, are also executed and no longer need the credentials. In such cases (resetting and) executing a downstream node will fail as the password is not part of the credentials object passed from this node into the workflow - a re-configuration of this node is required.",
                    "default" : false
                  },
                  "savedPrior52" : {
                    "type" : "boolean",
                    "default" : false
                  }
                },
                "default" : {
                  "credentials" : {
                    "isHiddenPassword" : false,
                    "isHiddenSecondFactor" : false,
                    "username" : ""
                  },
                  "isSavePassword" : false,
                  "savedPrior52" : false
                }
              },
              "credentialsParametersSince52" : {
                "type" : "object",
                "properties" : {
                  "credentials" : {
                    "type" : "object",
                    "properties" : {
                      "password" : {
                        "type" : "string",
                        "default" : ""
                      },
                      "secondFactor" : {
                        "type" : "string",
                        "default" : ""
                      },
                      "username" : {
                        "type" : "string",
                        "default" : ""
                      }
                    },
                    "title" : "Default username & password",
                    "description" : "The default credentials. When the credentials are for a KNIME Hub, username refers to application password id and password to application password.",
                    "default" : {
                      "isHiddenPassword" : false,
                      "isHiddenSecondFactor" : false,
                      "username" : ""
                    }
                  },
                  "isSavePassword" : {
                    "type" : "boolean",
                    "title" : "Save password in configuration (weakly encrypted)",
                    "description" : "Whether the password should be saved with the workflow. Note that, if saved, the password can be revealed with modest effort by looking at the encryption algorithm used in KNIME's (open) source code. If the password is not saved the user will be prompted for the password when the workflow is opened unless the node is already saved executed. In the latter case the password is not prompted assuming downstream consumer nodes, e.g. a DB reader, are also executed and no longer need the credentials. In such cases (resetting and) executing a downstream node will fail as the password is not part of the credentials object passed from this node into the workflow - a re-configuration of this node is required.",
                    "default" : false
                  },
                  "savedPrior52" : {
                    "type" : "boolean",
                    "default" : false
                  }
                },
                "default" : {
                  "credentials" : {
                    "isHiddenPassword" : false,
                    "isHiddenSecondFactor" : false,
                    "username" : ""
                  },
                  "isSavePassword" : false,
                  "savedPrior52" : false
                }
              },
              "savedPrior52" : {
                "type" : "boolean",
                "default" : false
              },
              "useServerLoginCredentials" : {
                "type" : "boolean",
                "default" : false
              }
            },
            "default" : {
              "savedPrior52" : false,
              "credentialsParametersPrior52" : {
                "credentials" : {
                  "isHiddenPassword" : false,
                  "isHiddenSecondFactor" : false,
                  "username" : ""
                },
                "isSavePassword" : false,
                "savedPrior52" : false
              },
              "credentialsParametersSince52" : {
                "credentials" : {
                  "isHiddenPassword" : false,
                  "isHiddenSecondFactor" : false,
                  "username" : ""
                },
                "isSavePassword" : false,
                "savedPrior52" : false
              },
              "useServerLoginCredentials" : false
            }
          },
          "description" : {
            "type" : "string",
            "title" : "Description",
            "description" : "Some lines of description that will be shown for instance in the node description of the component exposing a dialog.",
            "default" : "Enter Description"
          },
          "enableUsernameField" : {
            "type" : "boolean",
            "title" : "Enable username field",
            "description" : "Whether the username should be rendered as a separate field in the configuration dialog of a component. If disabled, the <i>Default username</i> will be used.",
            "default" : true
          },
          "errorMessageString" : {
            "type" : "string",
            "default" : ""
          },
          "flowVariableName" : {
            "type" : "string",
            "title" : "Output variable name",
            "description" : "Parameter identifier for external parameterization (e.g. batch execution).\nThis will also be the name of the exported flow variable.\n",
            "default" : "credentials"
          },
          "hideInDialog" : {
            "type" : "boolean",
            "title" : "Hide in dialog",
            "description" : "Set this to true to hide this field in a component dialog.\n",
            "default" : false
          },
          "label" : {
            "type" : "string",
            "title" : "Label",
            "description" : "A descriptive label that will be shown for instance in the node description of the component exposing a dialog.",
            "default" : "Label"
          },
          "overwrittenByValueMessage" : {
            "type" : "object"
          },
          "parameterName" : {
            "type" : "string",
            "title" : "Parameter name",
            "description" : "Parameter identifier for external parameterization (e.g. batch execution). Whenever the output variable name is adjusted, the current value of the parameter name is set to the same value.",
            "default" : "credentials"
          },
          "passwordLabel" : {
            "type" : "string",
            "title" : "Password label",
            "description" : "A custom label which is displayed for the password input field.",
            "default" : "Password"
          },
          "required" : {
            "type" : "boolean",
            "default" : true
          },
          "showInputFields" : {
            "type" : "boolean",
            "title" : "Show input fields",
            "description" : "When the server login is used it might be desirable to not show any input fields. When checking this option, the component will not display, but username and password are still retrieved from server login credentials.",
            "default" : true
          },
          "usernameLabel" : {
            "type" : "string",
            "title" : "Username label",
            "description" : "A custom label which is displayed for the username input field.",
            "default" : "User"
          }
        }
      }
    }
  },
  "ui_schema" : {
    "elements" : [ {
      "label" : "Form Field",
      "type" : "Section",
      "elements" : [ {
        "type" : "Control",
        "scope" : "#/properties/model/properties/label"
      }, {
        "type" : "Control",
        "scope" : "#/properties/model/properties/description"
      }, {
        "type" : "Control",
        "scope" : "#/properties/model/properties/credentialsSource",
        "options" : {
          "format" : "valueSwitch"
        }
      }, {
        "type" : "Control",
        "scope" : "#/properties/model/properties/showInputFields",
        "options" : {
          "format" : "checkbox"
        },
        "rule" : {
          "effect" : "SHOW",
          "condition" : {
            "scope" : "#/properties/model/properties/credentialsSource",
            "schema" : {
              "oneOf" : [ {
                "const" : "KNIME_SERVER_LOGIN"
              } ]
            }
          }
        }
      }, {
        "type" : "Control",
        "scope" : "#/properties/model/properties/enableUsernameField",
        "options" : {
          "format" : "checkbox"
        },
        "rule" : {
          "effect" : "SHOW",
          "condition" : {
            "type" : "OR",
            "conditions" : [ {
              "scope" : "#/properties/model/properties/credentialsSource",
              "schema" : {
                "oneOf" : [ {
                  "const" : "USER_INPUT"
                } ]
              }
            }, {
              "type" : "AND",
              "conditions" : [ {
                "scope" : "#/properties/model/properties/credentialsSource",
                "schema" : {
                  "oneOf" : [ {
                    "const" : "KNIME_SERVER_LOGIN"
                  } ]
                }
              }, {
                "scope" : "#/properties/model/properties/showInputFields",
                "schema" : {
                  "const" : true
                }
              } ]
            } ]
          }
        }
      }, {
        "type" : "Control",
        "scope" : "#/properties/model/properties/usernameLabel",
        "rule" : {
          "effect" : "SHOW",
          "condition" : {
            "type" : "AND",
            "conditions" : [ {
              "type" : "OR",
              "conditions" : [ {
                "scope" : "#/properties/model/properties/credentialsSource",
                "schema" : {
                  "oneOf" : [ {
                    "const" : "USER_INPUT"
                  } ]
                }
              }, {
                "type" : "AND",
                "conditions" : [ {
                  "scope" : "#/properties/model/properties/credentialsSource",
                  "schema" : {
                    "oneOf" : [ {
                      "const" : "KNIME_SERVER_LOGIN"
                    } ]
                  }
                }, {
                  "scope" : "#/properties/model/properties/showInputFields",
                  "schema" : {
                    "const" : true
                  }
                } ]
              } ]
            }, {
              "scope" : "#/properties/model/properties/enableUsernameField",
              "schema" : {
                "const" : true
              }
            } ]
          }
        }
      }, {
        "type" : "Control",
        "scope" : "#/properties/model/properties/passwordLabel",
        "rule" : {
          "effect" : "SHOW",
          "condition" : {
            "type" : "OR",
            "conditions" : [ {
              "scope" : "#/properties/model/properties/credentialsSource",
              "schema" : {
                "oneOf" : [ {
                  "const" : "USER_INPUT"
                } ]
              }
            }, {
              "type" : "AND",
              "conditions" : [ {
                "scope" : "#/properties/model/properties/credentialsSource",
                "schema" : {
                  "oneOf" : [ {
                    "const" : "KNIME_SERVER_LOGIN"
                  } ]
                }
              }, {
                "scope" : "#/properties/model/properties/showInputFields",
                "schema" : {
                  "const" : true
                }
              } ]
            } ]
          }
        }
      } ]
    }, {
      "label" : "Output",
      "type" : "Section",
      "elements" : [ {
        "type" : "Control",
        "id" : "#/properties/model/properties/overwrittenByValueMessage",
        "options" : {
          "format" : "textMessage"
        },
        "providedOptions" : [ "message" ]
      }, {
        "type" : "Control",
        "scope" : "#/properties/model/properties/defaultValue/properties/credentialsParametersPrior52/properties/credentials",
        "options" : {
          "passwordLabel" : "Password",
          "usernameLabel" : "Username",
          "format" : "credentials"
        },
        "rule" : {
          "effect" : "SHOW",
          "condition" : {
            "scope" : "#/properties/model/properties/defaultValue/properties/savedPrior52",
            "schema" : {
              "const" : true
            }
          }
        }
      }, {
        "type" : "Control",
        "scope" : "#/properties/model/properties/defaultValue/properties/credentialsParametersPrior52/properties/isSavePassword",
        "options" : {
          "format" : "checkbox"
        },
        "rule" : {
          "effect" : "SHOW",
          "condition" : {
            "scope" : "#/properties/model/properties/defaultValue/properties/savedPrior52",
            "schema" : {
              "const" : true
            }
          }
        }
      }, {
        "type" : "Control",
        "scope" : "#/properties/model/properties/defaultValue/properties/credentialsParametersSince52/properties/credentials",
        "options" : {
          "passwordLabel" : "Password",
          "usernameLabel" : "Username",
          "format" : "credentials"
        },
        "rule" : {
          "effect" : "HIDE",
          "condition" : {
            "scope" : "#/properties/model/properties/defaultValue/properties/savedPrior52",
            "schema" : {
              "const" : true
            }
          }
        }
      }, {
        "type" : "Control",
        "scope" : "#/properties/model/properties/defaultValue/properties/credentialsParametersSince52/properties/isSavePassword",
        "options" : {
          "format" : "checkbox"
        },
        "rule" : {
          "effect" : "HIDE",
          "condition" : {
            "scope" : "#/properties/model/properties/defaultValue/properties/savedPrior52",
            "schema" : {
              "const" : true
            }
          }
        }
      }, {
        "type" : "Control",
        "scope" : "#/properties/model/properties/flowVariableName",
        "options" : {
          "validation" : {
            "pattern" : {
              "errorMessage" : "Value must start and end with a letter, and may contain only letters, digits, and single dashes.",
              "parameters" : {
                "pattern" : "[A-Za-z]((?:[A-Za-z0-9]|-(?=[A-Za-z0-9]))*[A-Za-z])?"
              }
            }
          }
        }
      } ]
    }, {
      "label" : "Advanced Settings",
      "type" : "Section",
      "options" : {
        "isAdvanced" : true
      },
      "elements" : [ {
        "type" : "Control",
        "scope" : "#/properties/model/properties/parameterName",
        "options" : {
          "validation" : {
            "pattern" : {
              "errorMessage" : "Value must start and end with a letter, and may contain only letters, digits, and single dashes.",
              "parameters" : {
                "pattern" : "[A-Za-z]((?:[A-Za-z0-9]|-(?=[A-Za-z0-9]))*[A-Za-z])?"
              }
            }
          },
          "isAdvanced" : true
        }
      }, {
        "type" : "Control",
        "scope" : "#/properties/model/properties/hideInDialog",
        "options" : {
          "format" : "checkbox",
          "isAdvanced" : true
        }
      } ]
    } ]
  },
  "persist" : {
    "type" : "object",
    "properties" : {
      "model" : {
        "type" : "object",
        "properties" : {
          "label" : { },
          "description" : { },
          "flowVariableName" : { },
          "parameterName" : { },
          "hideInDialog" : { },
          "required" : { },
          "overwrittenByValueMessage" : { },
          "defaultValue" : {
            "type" : "object",
            "properties" : {
              "savedPrior52" : {
                "configPaths" : [ ]
              },
              "credentialsParametersPrior52" : {
                "configPaths" : [ [ "username" ], [ "isSavePassword" ] ]
              },
              "credentialsParametersSince52" : {
                "configPaths" : [ [ "credentialsValue" ], [ "isSavePassword" ] ]
              },
              "useServerLoginCredentials" : {
                "configKey" : "useServerLoginCredentials"
              }
            }
          },
          "credentialsSource" : {
            "configPaths" : [ [ "use_server_login" ] ]
          },
          "showInputFields" : {
            "configPaths" : [ [ "no_display" ] ]
          },
          "enableUsernameField" : {
            "configKey" : "prompt_username"
          },
          "usernameLabel" : {
            "configKey" : "usernameLabel"
          },
          "passwordLabel" : {
            "configKey" : "passwordLabel"
          },
          "errorMessageString" : {
            "configKey" : "error_message"
          }
        }
      }
    }
  },
  "globalUpdates" : [ {
    "trigger" : {
      "id" : "after-open-dialog"
    },
    "triggerInitially" : true,
    "dependencies" : [ "#/properties/model/properties/enableUsernameField" ]
  }, {
    "trigger" : {
      "scope" : "#/properties/model/properties/credentialsSource"
    },
    "dependencies" : [ "#/properties/model/properties/credentialsSource" ]
  }, {
    "trigger" : {
      "scope" : "#/properties/model/properties/enableUsernameField"
    },
    "dependencies" : [ "#/properties/model/properties/enableUsernameField" ]
  }, {
    "trigger" : {
      "scope" : "#/properties/model/properties/flowVariableName"
    },
    "dependencies" : [ "#/properties/model/properties/flowVariableName" ]
  } ]
}