{
  "data" : {
    "model" : {
      "label" : "Label",
      "description" : "Enter Description",
      "flowVariableName" : "value-filter",
      "hideInWizard" : false,
      "customCSS" : "",
      "required" : true,
      "triggerReExecution" : false,
      "valueFilterNodeParameters" : {
        "multipleSelectionComponentParameters" : {
          "selectionType" : "Twinlist",
          "limitVisibleOptions" : {
            "limitNumberOfVisibleOptions" : false,
            "numberOfVisibleOptions" : 10
          }
        },
        "enableColumnFieldParameter" : {
          "enableColumnField" : true
        },
        "possibleValues" : { }
      },
      "defaultValue" : {
        "column" : "",
        "values" : [ ]
      },
      "searchAndIgnoreInvalidValuesParameters" : {
        "enableSearchParameter" : {
          "enableSearch" : false
        },
        "ignoreInvalidValues" : true
      }
    }
  },
  "schema" : {
    "type" : "object",
    "properties" : {
      "model" : {
        "type" : "object",
        "properties" : {
          "customCSS" : {
            "type" : "string",
            "default" : ""
          },
          "defaultValue" : {
            "type" : "object",
            "properties" : {
              "column" : {
                "type" : "string",
                "title" : "Default column",
                "description" : "The column containing the values to filter.",
                "default" : ""
              },
              "noColumnsAvailableMessage" : {
                "type" : "object"
              },
              "values" : {
                "type" : "array",
                "items" : {
                  "type" : "string"
                },
                "title" : "Default values",
                "description" : "The values that are selected by default.",
                "default" : [ ]
              }
            },
            "default" : {
              "column" : "",
              "values" : [ ]
            }
          },
          "description" : {
            "type" : "string",
            "title" : "Description",
            "description" : "Some lines of description that will be shown in the view, for instance by means of a tooltip.",
            "default" : "Enter Description"
          },
          "flowVariableName" : {
            "type" : "string",
            "title" : "Variable name",
            "description" : "The name of the exported flow variable.",
            "default" : "value-filter"
          },
          "hideInWizard" : {
            "type" : "boolean",
            "default" : false
          },
          "label" : {
            "type" : "string",
            "title" : "Label",
            "description" : "A descriptive label that will be shown in the view.",
            "default" : "Label"
          },
          "required" : {
            "type" : "boolean",
            "default" : true
          },
          "searchAndIgnoreInvalidValuesParameters" : {
            "type" : "object",
            "properties" : {
              "enableSearchParameter" : {
                "type" : "object",
                "properties" : {
                  "enableSearch" : {
                    "type" : "boolean",
                    "title" : "Enable search",
                    "description" : "If selected, a search field to filter the available columns will be rendered above the multiple selection.",
                    "default" : false
                  }
                },
                "default" : {
                  "enableSearch" : false
                }
              },
              "ignoreInvalidValues" : {
                "type" : "boolean",
                "title" : "Ignore missing selected values",
                "description" : "If this option is checked, selected values that are missing from the input data will not be shown in the widget and they will be removed from the list of selected values once settings are applied. If this option is not checked missing values will be shown in the widget and need to be removed manually to pass input validation.",
                "default" : true
              }
            },
            "default" : {
              "enableSearchParameter" : {
                "enableSearch" : false
              },
              "ignoreInvalidValues" : true
            }
          },
          "triggerReExecution" : {
            "type" : "boolean",
            "title" : "Re-execution on widget value change",
            "description" : "If selected, the widget emits reactivity events that trigger the re-execution of downstream nodes in a component composite view when its value changes. It allows users to create interactive Data Apps and visualizations.",
            "default" : false
          },
          "valueFilterNodeParameters" : {
            "type" : "object",
            "properties" : {
              "enableColumnFieldParameter" : {
                "type" : "object",
                "properties" : {
                  "enableColumnField" : {
                    "type" : "boolean",
                    "title" : "Enable column field",
                    "description" : "When checked, the column field is shown and a column can be selected, else the field is not shown and the <i>Default column</i> will be used.",
                    "default" : true
                  }
                },
                "default" : {
                  "enableColumnField" : true
                }
              },
              "multipleSelectionComponentParameters" : {
                "type" : "object",
                "properties" : {
                  "limitVisibleOptions" : {
                    "type" : "object",
                    "properties" : {
                      "limitNumberOfVisibleOptions" : {
                        "type" : "boolean",
                        "title" : "Limit number of visible options",
                        "description" : "By default the List, Twinlist, and Combobox components adjust their height to display all possible choices without a scroll bar. If the setting is enabled, you will be able to limit the number of visible options in case you have too many of them. The setting is available only for List, Twinlist, and Combobox selection type.",
                        "default" : false
                      },
                      "numberOfVisibleOptions" : {
                        "type" : "integer",
                        "format" : "int32",
                        "title" : "Number of visible options",
                        "description" : "A number of options visible in the List, Twinlist or Combobox component without a vertical scroll bar. Changing this value will also affect the component's height. Notice that for Twinlist the height cannot be less than the overall height of the control buttons in the middle. The setting is available only for List, Twinlist, and Combobox selection type.",
                        "default" : 5
                      }
                    },
                    "default" : {
                      "limitNumberOfVisibleOptions" : false,
                      "numberOfVisibleOptions" : 5
                    }
                  },
                  "selectionType" : {
                    "type" : "string",
                    "title" : "Selection type",
                    "description" : "Type of the selection panel. This can be either checkboxes with a vertical or horizontal layout, a list, a combobox, or a twinlist selection.",
                    "default" : "Twinlist"
                  }
                },
                "default" : {
                  "selectionType" : "Twinlist",
                  "limitVisibleOptions" : {
                    "limitNumberOfVisibleOptions" : false,
                    "numberOfVisibleOptions" : 5
                  }
                }
              },
              "overwrittenByValueMessage" : {
                "type" : "object"
              },
              "possibleValues" : {
                "type" : "object",
                "default" : { }
              }
            },
            "default" : {
              "multipleSelectionComponentParameters" : {
                "selectionType" : "Twinlist",
                "limitVisibleOptions" : {
                  "limitNumberOfVisibleOptions" : false,
                  "numberOfVisibleOptions" : 5
                }
              },
              "enableColumnFieldParameter" : {
                "enableColumnField" : true
              },
              "possibleValues" : { }
            }
          }
        }
      }
    }
  },
  "ui_schema" : {
    "elements" : [ {
      "label" : "Form Field",
      "type" : "Section",
      "elements" : [ {
        "type" : "Control",
        "scope" : "#/properties/model/properties/label"
      }, {
        "type" : "Control",
        "scope" : "#/properties/model/properties/description",
        "options" : {
          "rows" : 4,
          "format" : "textArea"
        }
      }, {
        "type" : "Control",
        "scope" : "#/properties/model/properties/valueFilterNodeParameters/properties/multipleSelectionComponentParameters/properties/selectionType",
        "options" : {
          "format" : "dropDown"
        },
        "providedOptions" : [ "possibleValues" ]
      }, {
        "type" : "Control",
        "scope" : "#/properties/model/properties/valueFilterNodeParameters/properties/multipleSelectionComponentParameters/properties/limitVisibleOptions/properties/limitNumberOfVisibleOptions",
        "options" : {
          "format" : "checkbox"
        },
        "rule" : {
          "effect" : "SHOW",
          "condition" : {
            "type" : "OR",
            "conditions" : [ {
              "type" : "OR",
              "conditions" : [ {
                "scope" : "#/properties/model/properties/valueFilterNodeParameters/properties/multipleSelectionComponentParameters/properties/selectionType",
                "schema" : {
                  "const" : "List"
                }
              }, {
                "scope" : "#/properties/model/properties/valueFilterNodeParameters/properties/multipleSelectionComponentParameters/properties/selectionType",
                "schema" : {
                  "const" : "Twinlist"
                }
              } ]
            }, {
              "scope" : "#/properties/model/properties/valueFilterNodeParameters/properties/multipleSelectionComponentParameters/properties/selectionType",
              "schema" : {
                "const" : "ComboBox"
              }
            } ]
          }
        }
      }, {
        "type" : "Control",
        "scope" : "#/properties/model/properties/valueFilterNodeParameters/properties/multipleSelectionComponentParameters/properties/limitVisibleOptions/properties/numberOfVisibleOptions",
        "options" : {
          "validation" : {
            "max" : {
              "errorMessage" : "The value must not exceed 2147483647.",
              "parameters" : {
                "isExclusive" : false,
                "max" : 2.147483647E9
              }
            },
            "min" : {
              "errorMessage" : "The value must be at least 2.",
              "parameters" : {
                "isExclusive" : false,
                "min" : 2.0
              }
            }
          }
        },
        "providedOptions" : [ "validation.min" ],
        "rule" : {
          "effect" : "SHOW",
          "condition" : {
            "type" : "AND",
            "conditions" : [ {
              "scope" : "#/properties/model/properties/valueFilterNodeParameters/properties/multipleSelectionComponentParameters/properties/limitVisibleOptions/properties/limitNumberOfVisibleOptions",
              "schema" : {
                "const" : true
              }
            }, {
              "type" : "OR",
              "conditions" : [ {
                "type" : "OR",
                "conditions" : [ {
                  "scope" : "#/properties/model/properties/valueFilterNodeParameters/properties/multipleSelectionComponentParameters/properties/selectionType",
                  "schema" : {
                    "const" : "List"
                  }
                }, {
                  "scope" : "#/properties/model/properties/valueFilterNodeParameters/properties/multipleSelectionComponentParameters/properties/selectionType",
                  "schema" : {
                    "const" : "Twinlist"
                  }
                } ]
              }, {
                "scope" : "#/properties/model/properties/valueFilterNodeParameters/properties/multipleSelectionComponentParameters/properties/selectionType",
                "schema" : {
                  "const" : "ComboBox"
                }
              } ]
            } ]
          }
        }
      }, {
        "type" : "Control",
        "scope" : "#/properties/model/properties/valueFilterNodeParameters/properties/enableColumnFieldParameter/properties/enableColumnField",
        "options" : {
          "format" : "checkbox"
        }
      }, {
        "type" : "Control",
        "scope" : "#/properties/model/properties/searchAndIgnoreInvalidValuesParameters/properties/enableSearchParameter/properties/enableSearch",
        "options" : {
          "format" : "checkbox"
        },
        "rule" : {
          "effect" : "HIDE",
          "condition" : {
            "scope" : "#/properties/model/properties/valueFilterNodeParameters/properties/multipleSelectionComponentParameters/properties/selectionType",
            "schema" : {
              "const" : "ComboBox"
            }
          }
        }
      }, {
        "type" : "Control",
        "scope" : "#/properties/model/properties/searchAndIgnoreInvalidValuesParameters/properties/ignoreInvalidValues",
        "options" : {
          "format" : "checkbox"
        }
      } ]
    }, {
      "label" : "Output",
      "type" : "Section",
      "elements" : [ {
        "type" : "Control",
        "id" : "#/properties/model/properties/valueFilterNodeParameters/properties/overwrittenByValueMessage",
        "options" : {
          "format" : "textMessage"
        },
        "providedOptions" : [ "message" ]
      }, {
        "type" : "Control",
        "id" : "#/properties/model/properties/defaultValue/properties/noColumnsAvailableMessage",
        "options" : {
          "format" : "textMessage"
        },
        "providedOptions" : [ "message" ]
      }, {
        "type" : "Control",
        "scope" : "#/properties/model/properties/defaultValue/properties/column",
        "options" : {
          "format" : "dropDown"
        },
        "providedOptions" : [ "possibleValues" ]
      }, {
        "type" : "Control",
        "scope" : "#/properties/model/properties/defaultValue/properties/values",
        "options" : {
          "format" : "twinList"
        },
        "providedOptions" : [ "possibleValues" ]
      }, {
        "type" : "Control",
        "scope" : "#/properties/model/properties/flowVariableName",
        "options" : {
          "validation" : {
            "pattern" : {
              "errorMessage" : "The string must start and end with a non-whitespace character.",
              "parameters" : {
                "pattern" : "\\S(.*\\S)?"
              }
            }
          }
        }
      } ]
    }, {
      "label" : "Re-execution",
      "type" : "Section",
      "elements" : [ {
        "type" : "Control",
        "scope" : "#/properties/model/properties/triggerReExecution",
        "options" : {
          "format" : "checkbox"
        }
      } ]
    } ]
  },
  "persist" : {
    "type" : "object",
    "properties" : {
      "model" : {
        "type" : "object",
        "properties" : {
          "label" : { },
          "description" : { },
          "flowVariableName" : { },
          "hideInWizard" : { },
          "customCSS" : { },
          "required" : { },
          "triggerReExecution" : {
            "configKey" : "trigger_reexecution"
          },
          "valueFilterNodeParameters" : {
            "type" : "object",
            "properties" : {
              "overwrittenByValueMessage" : { },
              "multipleSelectionComponentParameters" : {
                "type" : "object",
                "properties" : {
                  "selectionType" : {
                    "configKey" : "type"
                  },
                  "limitVisibleOptions" : {
                    "type" : "object",
                    "properties" : {
                      "limitNumberOfVisibleOptions" : {
                        "configKey" : "limit_number_visible_options"
                      },
                      "numberOfVisibleOptions" : {
                        "configKey" : "number_visible_options"
                      }
                    },
                    "propertiesRoute" : [ ".." ]
                  }
                },
                "propertiesRoute" : [ ".." ]
              },
              "enableColumnFieldParameter" : {
                "type" : "object",
                "properties" : {
                  "enableColumnField" : {
                    "configPaths" : [ [ "lockColumn" ] ]
                  }
                },
                "propertiesRoute" : [ ".." ]
              },
              "possibleValues" : {
                "configPaths" : [ ]
              }
            },
            "propertiesRoute" : [ ".." ]
          },
          "defaultValue" : {
            "type" : "object",
            "properties" : {
              "noColumnsAvailableMessage" : { },
              "column" : {
                "configKey" : "column"
              },
              "values" : {
                "configKey" : "values"
              }
            }
          },
          "searchAndIgnoreInvalidValuesParameters" : {
            "type" : "object",
            "properties" : {
              "enableSearchParameter" : {
                "type" : "object",
                "properties" : {
                  "enableSearch" : {
                    "configKey" : "enable_search"
                  }
                },
                "propertiesRoute" : [ ".." ]
              },
              "ignoreInvalidValues" : {
                "configKey" : "ignore_invalid_values"
              }
            },
            "propertiesRoute" : [ ".." ]
          }
        }
      }
    }
  },
  "initialUpdates" : [ {
    "scope" : "#/properties/model/properties/defaultValue/properties/column",
    "values" : [ {
      "indices" : [ ],
      "value" : "StringColumn"
    } ]
  }, {
    "scope" : "#/properties/model/properties/defaultValue/properties/column",
    "providedOptionName" : "possibleValues",
    "values" : [ {
      "indices" : [ ],
      "value" : [ {
        "id" : "StringColumn",
        "text" : "StringColumn",
        "type" : {
          "id" : "org.knime.core.data.StringValue",
          "text" : "String"
        }
      }, {
        "id" : "CategoryColumn",
        "text" : "CategoryColumn",
        "type" : {
          "id" : "org.knime.core.data.StringValue",
          "text" : "String"
        }
      } ]
    } ]
  }, {
    "scope" : "#/properties/model/properties/defaultValue/properties/values",
    "values" : [ {
      "indices" : [ ],
      "value" : [ ]
    } ]
  }, {
    "scope" : "#/properties/model/properties/defaultValue/properties/values",
    "providedOptionName" : "possibleValues",
    "values" : [ {
      "indices" : [ ],
      "value" : [ ]
    } ]
  }, {
    "scope" : "#/properties/model/properties/valueFilterNodeParameters/properties/multipleSelectionComponentParameters/properties/limitVisibleOptions/properties/numberOfVisibleOptions",
    "providedOptionName" : "validation.min",
    "values" : [ {
      "indices" : [ ],
      "value" : {
        "parameters" : {
          "min" : 5.0,
          "isExclusive" : false
        },
        "errorMessage" : "The value must be at least 5."
      }
    } ]
  }, {
    "scope" : "#/properties/model/properties/valueFilterNodeParameters/properties/multipleSelectionComponentParameters/properties/selectionType",
    "providedOptionName" : "possibleValues",
    "values" : [ {
      "indices" : [ ],
      "value" : [ {
        "id" : "Check boxes (horizontal)",
        "text" : "Check boxes (horizontal)"
      }, {
        "id" : "Check boxes (vertical)",
        "text" : "Check boxes (vertical)"
      }, {
        "id" : "List",
        "text" : "List"
      }, {
        "id" : "Twinlist",
        "text" : "Twinlist"
      }, {
        "id" : "ComboBox",
        "text" : "ComboBox"
      } ]
    } ]
  }, {
    "scope" : "#/properties/model/properties/valueFilterNodeParameters/properties/possibleValues",
    "values" : [ {
      "indices" : [ ],
      "value" : {
        "CategoryColumn" : [ "A", "B", "C" ],
        "StringColumn" : [ "C1", "C2", "C3" ]
      }
    } ]
  }, {
    "id" : "#/properties/model/properties/defaultValue/properties/noColumnsAvailableMessage",
    "providedOptionName" : "message",
    "values" : [ {
      "indices" : [ ],
      "value" : null
    } ]
  } ],
  "globalUpdates" : [ {
    "trigger" : {
      "id" : "after-open-dialog"
    },
    "triggerInitially" : true,
    "dependencies" : [ "#/properties/model/properties/defaultValue/properties/column", "#/properties/model/properties/defaultValue/properties/values", "#/properties/model/properties/valueFilterNodeParameters/properties/enableColumnFieldParameter/properties/enableColumnField" ]
  }, {
    "trigger" : {
      "scope" : "#/properties/model/properties/defaultValue/properties/column"
    },
    "dependencies" : [ "#/properties/model/properties/defaultValue/properties/column", "#/properties/model/properties/defaultValue/properties/values" ]
  }, {
    "trigger" : {
      "scope" : "#/properties/model/properties/valueFilterNodeParameters/properties/enableColumnFieldParameter/properties/enableColumnField"
    },
    "dependencies" : [ "#/properties/model/properties/valueFilterNodeParameters/properties/enableColumnFieldParameter/properties/enableColumnField" ]
  }, {
    "trigger" : {
      "scope" : "#/properties/model/properties/valueFilterNodeParameters/properties/multipleSelectionComponentParameters/properties/selectionType"
    },
    "dependencies" : [ "#/properties/model/properties/valueFilterNodeParameters/properties/multipleSelectionComponentParameters/properties/limitVisibleOptions/properties/numberOfVisibleOptions", "#/properties/model/properties/valueFilterNodeParameters/properties/multipleSelectionComponentParameters/properties/selectionType" ]
  } ]
}