{
  "data" : {
    "model" : {
      "hideInWizard" : false,
      "customCSS" : "",
      "label" : "Label",
      "description" : "Enter Description",
      "flowVariableName" : "file-chooser-input",
      "required" : true,
      "fileChooserNodeParameters" : {
        "validFileExtensions" : "",
        "defaultValue" : {
          "defaultPath" : "",
          "defaultType" : "UNKNOWN"
        },
        "selectDataFiles" : true,
        "selectWorkflows" : false,
        "selectDirectories" : false,
        "outputType" : false,
        "errorMessageString" : ""
      },
      "allowMultipleSelection" : false,
      "rootPath" : "",
      "mountIdOption" : true,
      "customMountId" : ""
    }
  },
  "schema" : {
    "type" : "object",
    "properties" : {
      "model" : {
        "type" : "object",
        "properties" : {
          "allowMultipleSelection" : {
            "type" : "boolean",
            "title" : "Allow multiple selection",
            "description" : "Option to enable or disable the selection of multiple items. If unchecked only one item can be selected.",
            "default" : false
          },
          "customCSS" : {
            "type" : "string",
            "default" : ""
          },
          "customMountId" : {
            "type" : "string",
            "title" : "Custom mount id",
            "description" : "A custom mount id to be included in the absolute paths to the selected items.",
            "default" : ""
          },
          "description" : {
            "type" : "string",
            "title" : "Description",
            "description" : "Some lines of description that will be shown in the view, for instance by means of a tooltip.",
            "default" : "Enter Description"
          },
          "fileChooserNodeParameters" : {
            "type" : "object",
            "properties" : {
              "defaultValue" : {
                "type" : "object",
                "properties" : {
                  "defaultPath" : {
                    "type" : "string",
                    "title" : "Default file",
                    "description" : "The default file to be output during configure and design time. If the path to the default file is present remotely as well, the file will be preselected in the view.",
                    "default" : ""
                  },
                  "defaultType" : {
                    "oneOf" : [ {
                      "const" : "UNKNOWN",
                      "title" : "Unknown"
                    }, {
                      "const" : "WORKFLOW",
                      "title" : "Workflow"
                    }, {
                      "const" : "DIRECTORY",
                      "title" : "Directory"
                    }, {
                      "const" : "DATA",
                      "title" : "Data"
                    } ],
                    "default" : "UNKNOWN"
                  }
                },
                "default" : {
                  "defaultPath" : "",
                  "defaultType" : "UNKNOWN"
                }
              },
              "errorMessageString" : {
                "type" : "string",
                "default" : ""
              },
              "outputType" : {
                "type" : "boolean",
                "title" : "Output selected item type",
                "description" : "Enabling this option will append a second column to the output table containing the type of the selected items. Also a second flow variable containing the type of the first selected item is created. Possible values are DATA, WORKFLOW and DIRECTORY.",
                "default" : false
              },
              "selectDataFiles" : {
                "type" : "boolean",
                "title" : "Select data files",
                "description" : "Allow selection of data files.",
                "default" : true
              },
              "selectDirectories" : {
                "type" : "boolean",
                "title" : "Select directories",
                "description" : "Allow selection of directories.",
                "default" : false
              },
              "selectWorkflows" : {
                "type" : "boolean",
                "title" : "Select workflows",
                "description" : "Allow selection of workflows.",
                "default" : false
              },
              "validFileExtensions" : {
                "type" : "string",
                "title" : "Valid file extensions",
                "description" : "A list of file extensions that is used as filter in the file browser (not only the one in the \"Default File\" option but also in a remote file browser), e.g. \".csv,.csv.gz\" will filter for files ending with \".csv\" or \".csv.gz\". Leave empty to accept any file.",
                "default" : ""
              }
            },
            "default" : {
              "validFileExtensions" : "",
              "defaultValue" : {
                "defaultPath" : "",
                "defaultType" : "UNKNOWN"
              },
              "selectDataFiles" : true,
              "selectWorkflows" : false,
              "selectDirectories" : false,
              "outputType" : false,
              "errorMessageString" : ""
            }
          },
          "flowVariableName" : {
            "type" : "string",
            "title" : "Variable name",
            "description" : "The name of the exported flow variable.",
            "default" : "file-chooser-input"
          },
          "hideInWizard" : {
            "type" : "boolean",
            "default" : false
          },
          "label" : {
            "type" : "string",
            "title" : "Label",
            "description" : "A descriptive label that will be shown in the view.",
            "default" : "Label"
          },
          "mountIdOption" : {
            "type" : "boolean",
            "title" : "Use default mount id of target",
            "description" : "Setting this option will query the mount id of the hub the node is running on for creating absolute paths to the selected items. If unchecked a custom mount id can be provided.",
            "default" : true
          },
          "required" : {
            "type" : "boolean",
            "default" : true
          },
          "rootPath" : {
            "type" : "string",
            "title" : "Root path",
            "description" : "An optional root path to only make items contained within this given directory available for selection.",
            "default" : ""
          }
        }
      }
    }
  },
  "ui_schema" : {
    "elements" : [ {
      "label" : "Form Field",
      "type" : "Section",
      "elements" : [ {
        "type" : "Control",
        "scope" : "#/properties/model/properties/label"
      }, {
        "type" : "Control",
        "scope" : "#/properties/model/properties/description",
        "options" : {
          "rows" : 4,
          "format" : "textArea"
        }
      }, {
        "type" : "Control",
        "scope" : "#/properties/model/properties/fileChooserNodeParameters/properties/validFileExtensions"
      }, {
        "type" : "Control",
        "scope" : "#/properties/model/properties/allowMultipleSelection",
        "options" : {
          "format" : "checkbox"
        }
      }, {
        "type" : "Control",
        "scope" : "#/properties/model/properties/rootPath"
      } ]
    }, {
      "label" : "Selection Settings",
      "type" : "Section",
      "elements" : [ {
        "type" : "Control",
        "scope" : "#/properties/model/properties/fileChooserNodeParameters/properties/selectDataFiles",
        "options" : {
          "format" : "checkbox"
        }
      }, {
        "type" : "Control",
        "scope" : "#/properties/model/properties/fileChooserNodeParameters/properties/selectWorkflows",
        "options" : {
          "format" : "checkbox"
        }
      }, {
        "type" : "Control",
        "scope" : "#/properties/model/properties/fileChooserNodeParameters/properties/selectDirectories",
        "options" : {
          "format" : "checkbox"
        }
      }, {
        "type" : "Control",
        "scope" : "#/properties/model/properties/fileChooserNodeParameters/properties/outputType",
        "options" : {
          "format" : "checkbox"
        }
      } ]
    }, {
      "label" : "Output",
      "type" : "Section",
      "elements" : [ {
        "type" : "Control",
        "scope" : "#/properties/model/properties/mountIdOption",
        "options" : {
          "format" : "checkbox"
        }
      }, {
        "type" : "Control",
        "scope" : "#/properties/model/properties/customMountId",
        "rule" : {
          "effect" : "HIDE",
          "condition" : {
            "scope" : "#/properties/model/properties/mountIdOption",
            "schema" : {
              "const" : true
            }
          }
        }
      }, {
        "type" : "Control",
        "scope" : "#/properties/model/properties/fileChooserNodeParameters/properties/defaultValue/properties/defaultPath"
      }, {
        "type" : "Control",
        "scope" : "#/properties/model/properties/flowVariableName",
        "options" : {
          "validation" : {
            "pattern" : {
              "errorMessage" : "The string must start and end with a non-whitespace character.",
              "parameters" : {
                "pattern" : "\\S(.*\\S)?"
              }
            }
          }
        }
      } ]
    } ]
  },
  "persist" : {
    "type" : "object",
    "properties" : {
      "model" : {
        "type" : "object",
        "properties" : {
          "hideInWizard" : { },
          "customCSS" : { },
          "label" : { },
          "description" : { },
          "flowVariableName" : { },
          "required" : { },
          "fileChooserNodeParameters" : {
            "type" : "object",
            "properties" : {
              "validFileExtensions" : {
                "configPaths" : [ [ "types" ] ]
              },
              "defaultValue" : {
                "configPaths" : [ [ "defaultValue", "items", "item_0", "path" ], [ "defaultValue", "items", "item_0", "type" ] ]
              },
              "selectDataFiles" : {
                "configKey" : "selectDataFiles"
              },
              "selectWorkflows" : {
                "configKey" : "selectWorkflows"
              },
              "selectDirectories" : {
                "configKey" : "selectDirectories"
              },
              "outputType" : {
                "configKey" : "outputType"
              },
              "errorMessageString" : {
                "configKey" : "error_message"
              }
            },
            "propertiesRoute" : [ ".." ]
          },
          "allowMultipleSelection" : {
            "configKey" : "multipleSelection"
          },
          "rootPath" : {
            "configKey" : "rootDir"
          },
          "mountIdOption" : {
            "configKey" : "defaultMountId"
          },
          "customMountId" : {
            "configKey" : "customMountId"
          }
        }
      }
    }
  }
}