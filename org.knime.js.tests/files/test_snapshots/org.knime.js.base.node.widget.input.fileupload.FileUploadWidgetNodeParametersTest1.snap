{
  "data" : {
    "model" : {
      "label" : "Label",
      "description" : "Enter Description",
      "flowVariableName" : "file-upload-input",
      "hideInWizard" : false,
      "customCSS" : "",
      "required" : true,
      "fileUploadNodeParameters" : {
        "defaultValue" : {
          "filePath" : "",
          "pathValid" : true,
          "fileName" : "",
          "localUpload" : false
        },
        "singleFileUploadNodeParameters" : {
          "fileExtensions" : "",
          "timeout" : 1.0,
          "errorMessage" : "",
          "disableOutputIfFileDoesNotExist" : true
        }
      },
      "storeInWFDirParameter" : {
        "storeInWfDir" : false
      }
    }
  },
  "schema" : {
    "type" : "object",
    "properties" : {
      "model" : {
        "type" : "object",
        "properties" : {
          "customCSS" : {
            "type" : "string",
            "default" : ""
          },
          "description" : {
            "type" : "string",
            "title" : "Description",
            "description" : "Some lines of description that will be shown in the view, for instance by means of a tooltip.",
            "default" : "Enter Description"
          },
          "fileUploadNodeParameters" : {
            "type" : "object",
            "properties" : {
              "defaultValue" : {
                "type" : "object",
                "properties" : {
                  "fileName" : {
                    "type" : "string",
                    "default" : ""
                  },
                  "filePath" : {
                    "type" : "string",
                    "title" : "Default file",
                    "description" : "The file that will be used during design time, i.e. when no file is provided by a component dialog.\nIt is possible to enter a URL here. This can be useful if a default file is to be addressed with\nthe knime:// protocol (e.g. knime://knime.workflow/../data/file.csv) or if the file is present on a\nremote server.\n",
                    "default" : ""
                  },
                  "localUpload" : {
                    "type" : "boolean",
                    "default" : false
                  },
                  "overwrittenByValueMessage" : {
                    "type" : "object"
                  },
                  "pathValid" : {
                    "type" : "boolean",
                    "default" : true
                  }
                },
                "default" : {
                  "filePath" : "",
                  "pathValid" : true,
                  "fileName" : "",
                  "localUpload" : false
                }
              },
              "singleFileUploadNodeParameters" : {
                "type" : "object",
                "properties" : {
                  "disableOutputIfFileDoesNotExist" : {
                    "type" : "boolean",
                    "title" : "Disable output, if file does not exist",
                    "description" : "If enabled, the output port will be disabled, if the provided file does not exist or cannot be accessed.\nThis option is helpful in the wizard (WebPortal) execution to keep this and subsequent nodes from failing\nduring execution.\n",
                    "default" : true
                  },
                  "errorMessage" : {
                    "type" : "string",
                    "default" : ""
                  },
                  "fileExtensions" : {
                    "type" : "string",
                    "title" : "Valid file extensions",
                    "description" : "A comma-separated list of file extensions that is used as filter in the\nfile browser (not only the one in the \"Default file\" option but also\nin a remote file browser), e.g. \".csv,.csv.gz\" (or \"csv,csv.gz\") will filter for\nfiles ending with \".csv\" or \".csv.gz\". Leave empty to accept any file.\n",
                    "default" : ""
                  },
                  "timeout" : {
                    "type" : "number",
                    "format" : "double",
                    "title" : "Timeout (seconds)",
                    "description" : "The time in seconds after which the connection times out. The timeout is used when testing the existence of\ndefault files. The default is set to 1 second and should be sufficient in most cases.\n",
                    "default" : 1.0
                  }
                },
                "default" : {
                  "fileExtensions" : "",
                  "timeout" : 1.0,
                  "errorMessage" : "",
                  "disableOutputIfFileDoesNotExist" : true
                }
              }
            },
            "default" : {
              "defaultValue" : {
                "filePath" : "",
                "pathValid" : true,
                "fileName" : "",
                "localUpload" : false
              },
              "singleFileUploadNodeParameters" : {
                "fileExtensions" : "",
                "timeout" : 1.0,
                "errorMessage" : "",
                "disableOutputIfFileDoesNotExist" : true
              }
            }
          },
          "flowVariableName" : {
            "type" : "string",
            "title" : "Variable name",
            "description" : "The name of the exported flow variable.",
            "default" : "file-upload-input"
          },
          "hideInWizard" : {
            "type" : "boolean",
            "default" : false
          },
          "label" : {
            "type" : "string",
            "title" : "Label",
            "description" : "A descriptive label that will be shown in the view.",
            "default" : "Label"
          },
          "required" : {
            "type" : "boolean",
            "default" : true
          },
          "storeInWFDirParameter" : {
            "type" : "object",
            "properties" : {
              "storeInWfDir" : {
                "type" : "boolean",
                "title" : "Store uploaded file in workflow directory",
                "description" : "Check this box to store the file in a temp directory in the workflow directory (e.g.\n/path/to/workflow/tmp/file_name). Otherwise, it will be created in the temp directory of the system, which\ncan lead to unwanted behaviour, i.e. reader nodes do not allow direct access to the file system on\nKNIME Hub or due to swapping a job between systems in a server/executor environment. Note that the\nuploaded file will be deleted from the workflow when the workflow is discarded or reset.\n",
                "default" : true
              }
            },
            "default" : {
              "storeInWfDir" : true
            }
          }
        }
      }
    }
  },
  "ui_schema" : {
    "elements" : [ {
      "label" : "Form Field",
      "type" : "Section",
      "elements" : [ {
        "type" : "Control",
        "scope" : "#/properties/model/properties/label"
      }, {
        "type" : "Control",
        "scope" : "#/properties/model/properties/description",
        "options" : {
          "rows" : 4,
          "format" : "textArea"
        }
      }, {
        "type" : "Control",
        "scope" : "#/properties/model/properties/fileUploadNodeParameters/properties/singleFileUploadNodeParameters/properties/fileExtensions"
      } ]
    }, {
      "label" : "Output",
      "type" : "Section",
      "elements" : [ {
        "type" : "Control",
        "id" : "#/properties/model/properties/fileUploadNodeParameters/properties/defaultValue/properties/overwrittenByValueMessage",
        "options" : {
          "format" : "textMessage"
        },
        "providedOptions" : [ "message" ]
      }, {
        "type" : "Control",
        "scope" : "#/properties/model/properties/fileUploadNodeParameters/properties/defaultValue/properties/filePath",
        "options" : {
          "fileSystem" : "LOCAL",
          "isLocal" : true,
          "format" : "stringFileChooser"
        }
      }, {
        "type" : "Control",
        "scope" : "#/properties/model/properties/fileUploadNodeParameters/properties/singleFileUploadNodeParameters/properties/timeout",
        "options" : {
          "validation" : {
            "min" : {
              "errorMessage" : "The value must be at least 0.",
              "parameters" : {
                "isExclusive" : false,
                "min" : 0.0
              }
            }
          }
        }
      }, {
        "type" : "Control",
        "scope" : "#/properties/model/properties/flowVariableName",
        "options" : {
          "validation" : {
            "pattern" : {
              "errorMessage" : "The string must start and end with a non-whitespace character.",
              "parameters" : {
                "pattern" : "\\S(.*\\S)?"
              }
            }
          }
        }
      }, {
        "type" : "Control",
        "scope" : "#/properties/model/properties/fileUploadNodeParameters/properties/singleFileUploadNodeParameters/properties/disableOutputIfFileDoesNotExist",
        "options" : {
          "format" : "checkbox"
        }
      }, {
        "type" : "Control",
        "scope" : "#/properties/model/properties/storeInWFDirParameter/properties/storeInWfDir",
        "options" : {
          "format" : "checkbox"
        }
      } ]
    } ]
  },
  "persist" : {
    "type" : "object",
    "properties" : {
      "model" : {
        "type" : "object",
        "properties" : {
          "label" : { },
          "description" : { },
          "flowVariableName" : { },
          "hideInWizard" : { },
          "customCSS" : { },
          "required" : { },
          "fileUploadNodeParameters" : {
            "type" : "object",
            "properties" : {
              "defaultValue" : {
                "type" : "object",
                "properties" : {
                  "overwrittenByValueMessage" : { },
                  "filePath" : {
                    "configKey" : "path"
                  },
                  "pathValid" : {
                    "configKey" : "pathValid"
                  },
                  "fileName" : {
                    "configKey" : "fileName"
                  },
                  "localUpload" : {
                    "configKey" : "localUpload"
                  }
                }
              },
              "singleFileUploadNodeParameters" : {
                "type" : "object",
                "properties" : {
                  "fileExtensions" : {
                    "configPaths" : [ [ "types" ] ]
                  },
                  "timeout" : {
                    "configPaths" : [ [ "timeout" ] ]
                  },
                  "errorMessage" : {
                    "configKey" : "error_message"
                  },
                  "disableOutputIfFileDoesNotExist" : {
                    "configKey" : "disable_output"
                  }
                },
                "propertiesRoute" : [ ".." ]
              }
            },
            "propertiesRoute" : [ ".." ]
          },
          "storeInWFDirParameter" : {
            "type" : "object",
            "properties" : {
              "storeInWfDir" : {
                "configKey" : "store_in_wf_dir"
              }
            },
            "propertiesRoute" : [ ".." ]
          }
        }
      }
    }
  },
  "globalUpdates" : [ {
    "trigger" : {
      "id" : "after-open-dialog"
    },
    "triggerInitially" : true,
    "dependencies" : [ ]
  }, {
    "trigger" : {
      "scope" : "#/properties/model/properties/fileUploadNodeParameters/properties/defaultValue/properties/filePath"
    },
    "dependencies" : [ "#/properties/model/properties/fileUploadNodeParameters/properties/defaultValue/properties/filePath" ]
  } ]
}