{
  "data" : {
    "model" : {
      "label" : "Label",
      "description" : "Enter Description",
      "flowVariableName" : "multiple-selection",
      "hideInWizard" : false,
      "customCSS" : "",
      "required" : true,
      "triggerReExecution" : false,
      "multipleSelectionNodeParameters" : {
        "defaultValue" : {
          "variableValue" : [ ]
        },
        "limitVisOptions" : {
          "selectionType" : "Twinlist",
          "limitVisibleOptions" : {
            "limitNumberOfVisibleOptions" : false,
            "numberOfVisibleOptions" : 10
          }
        }
      },
      "searchAndIgnoreInvalidValuesParameters" : {
        "enableSearch" : false,
        "ignoreInvalidValues" : true
      }
    }
  },
  "schema" : {
    "type" : "object",
    "properties" : {
      "model" : {
        "type" : "object",
        "properties" : {
          "customCSS" : {
            "type" : "string",
            "default" : ""
          },
          "description" : {
            "type" : "string",
            "title" : "Description",
            "description" : "Some lines of description that will be shown in the view, for instance by means of a tooltip.",
            "default" : "Enter Description"
          },
          "flowVariableName" : {
            "type" : "string",
            "title" : "Variable name",
            "description" : "The name of the exported flow variable.",
            "default" : "multiple-selection"
          },
          "hideInWizard" : {
            "type" : "boolean",
            "default" : false
          },
          "label" : {
            "type" : "string",
            "title" : "Label",
            "description" : "A descriptive label that will be shown in the view.",
            "default" : "Label"
          },
          "multipleSelectionNodeParameters" : {
            "type" : "object",
            "properties" : {
              "defaultValue" : {
                "type" : "object",
                "properties" : {
                  "variableValue" : {
                    "type" : "array",
                    "items" : {
                      "type" : "string"
                    },
                    "title" : "Default values",
                    "description" : "Default values for the field. If you want to use values that are not among the possible choices as the default, override the field using a flow variable."
                  }
                },
                "default" : { }
              },
              "limitVisOptions" : {
                "type" : "object",
                "properties" : {
                  "limitVisibleOptions" : {
                    "type" : "object",
                    "properties" : {
                      "limitNumberOfVisibleOptions" : {
                        "type" : "boolean",
                        "title" : "Limit number of visible options",
                        "description" : "By default the List and Twinlist components adjust their height to display all possible choices without a scroll bar. If the setting is enabled, you will be able to limit the number of visible options in case you have too many of them. The setting is available only for List or Twinlist selection type.",
                        "default" : false
                      },
                      "numberOfVisibleOptions" : {
                        "type" : "integer",
                        "format" : "int32",
                        "title" : "Number of visible options",
                        "description" : "A number of options visible in the List or Twinlist component without a vertical scroll bar. Changing this value will also affect the component's height. Notice that for Twinlist the height cannot be less than the overall height of the control buttons in the middle. The setting is available only for List or Twinlist selection type.",
                        "default" : 5
                      }
                    },
                    "default" : {
                      "limitNumberOfVisibleOptions" : false,
                      "numberOfVisibleOptions" : 5
                    }
                  },
                  "selectionType" : {
                    "type" : "string",
                    "title" : "Selection type",
                    "description" : "Type of the selection panel. This can be either checkboxes with a vertical or horizontal layout, a list, a combobox, or a twinlist selection.",
                    "default" : "Twinlist"
                  }
                },
                "default" : {
                  "selectionType" : "Twinlist",
                  "limitVisibleOptions" : {
                    "limitNumberOfVisibleOptions" : false,
                    "numberOfVisibleOptions" : 5
                  }
                }
              },
              "overwrittenByValueMessage" : {
                "type" : "object"
              },
              "possibleChoices" : {
                "type" : "string",
                "title" : "Possible choices",
                "description" : "The possible choices, each line is one possible value."
              }
            },
            "default" : {
              "defaultValue" : { },
              "limitVisOptions" : {
                "selectionType" : "Twinlist",
                "limitVisibleOptions" : {
                  "limitNumberOfVisibleOptions" : false,
                  "numberOfVisibleOptions" : 5
                }
              }
            }
          },
          "required" : {
            "type" : "boolean",
            "default" : true
          },
          "searchAndIgnoreInvalidValuesParameters" : {
            "type" : "object",
            "properties" : {
              "enableSearch" : {
                "type" : "boolean",
                "title" : "Enable search",
                "description" : "If selected, a search field to filter the available columns will be rendered above the multiple selection.",
                "default" : false
              },
              "ignoreInvalidValues" : {
                "type" : "boolean",
                "title" : "Ignore missing selected values",
                "description" : "If this option is checked, selected values that are missing from the input data will not be shown in the widget and they will be removed from the list of selected values once settings are applied. If this option is not checked missing values will be shown in the widget and need to be removed manually to pass input validation.",
                "default" : true
              }
            },
            "default" : {
              "enableSearch" : false,
              "ignoreInvalidValues" : true
            }
          },
          "triggerReExecution" : {
            "type" : "boolean",
            "title" : "Re-execution on widget value change",
            "description" : "If selected, the widget emits reactivity events that trigger the re-execution of downstream nodes in a component composite view when its value changes. It allows users to create interactive Data Apps and visualizations.",
            "default" : false
          }
        }
      }
    }
  },
  "ui_schema" : {
    "elements" : [ {
      "label" : "Form Field",
      "type" : "Section",
      "elements" : [ {
        "type" : "Control",
        "scope" : "#/properties/model/properties/label"
      }, {
        "type" : "Control",
        "scope" : "#/properties/model/properties/description"
      }, {
        "type" : "Control",
        "scope" : "#/properties/model/properties/multipleSelectionNodeParameters/properties/limitVisOptions/properties/selectionType",
        "options" : {
          "format" : "dropDown"
        },
        "providedOptions" : [ "possibleValues" ]
      }, {
        "type" : "Control",
        "scope" : "#/properties/model/properties/multipleSelectionNodeParameters/properties/limitVisOptions/properties/limitVisibleOptions/properties/limitNumberOfVisibleOptions",
        "options" : {
          "format" : "checkbox"
        },
        "rule" : {
          "effect" : "SHOW",
          "condition" : {
            "type" : "OR",
            "conditions" : [ {
              "scope" : "#/properties/model/properties/multipleSelectionNodeParameters/properties/limitVisOptions/properties/selectionType",
              "schema" : {
                "const" : "List"
              }
            }, {
              "scope" : "#/properties/model/properties/multipleSelectionNodeParameters/properties/limitVisOptions/properties/selectionType",
              "schema" : {
                "const" : "Twinlist"
              }
            } ]
          }
        }
      }, {
        "type" : "Control",
        "scope" : "#/properties/model/properties/multipleSelectionNodeParameters/properties/limitVisOptions/properties/limitVisibleOptions/properties/numberOfVisibleOptions",
        "options" : {
          "validation" : {
            "max" : {
              "errorMessage" : "The value must not exceed 2147483647.",
              "parameters" : {
                "isExclusive" : false,
                "max" : 2.147483647E9
              }
            },
            "min" : {
              "errorMessage" : "The value must be at least 2.",
              "parameters" : {
                "isExclusive" : false,
                "min" : 2.0
              }
            }
          }
        },
        "rule" : {
          "effect" : "SHOW",
          "condition" : {
            "type" : "AND",
            "conditions" : [ {
              "type" : "OR",
              "conditions" : [ {
                "scope" : "#/properties/model/properties/multipleSelectionNodeParameters/properties/limitVisOptions/properties/selectionType",
                "schema" : {
                  "const" : "List"
                }
              }, {
                "scope" : "#/properties/model/properties/multipleSelectionNodeParameters/properties/limitVisOptions/properties/selectionType",
                "schema" : {
                  "const" : "Twinlist"
                }
              } ]
            }, {
              "scope" : "#/properties/model/properties/multipleSelectionNodeParameters/properties/limitVisOptions/properties/limitVisibleOptions/properties/limitNumberOfVisibleOptions",
              "schema" : {
                "const" : true
              }
            } ]
          }
        }
      }, {
        "type" : "Control",
        "scope" : "#/properties/model/properties/multipleSelectionNodeParameters/properties/possibleChoices",
        "options" : {
          "rows" : 4,
          "format" : "textArea"
        }
      }, {
        "type" : "Control",
        "scope" : "#/properties/model/properties/searchAndIgnoreInvalidValuesParameters/properties/enableSearch",
        "options" : {
          "format" : "checkbox"
        }
      }, {
        "type" : "Control",
        "scope" : "#/properties/model/properties/searchAndIgnoreInvalidValuesParameters/properties/ignoreInvalidValues",
        "options" : {
          "format" : "checkbox"
        }
      } ]
    }, {
      "label" : "Output",
      "type" : "Section",
      "elements" : [ {
        "type" : "Control",
        "id" : "#/properties/model/properties/multipleSelectionNodeParameters/properties/overwrittenByValueMessage",
        "options" : {
          "format" : "textMessage"
        },
        "providedOptions" : [ "message" ]
      }, {
        "type" : "Control",
        "scope" : "#/properties/model/properties/multipleSelectionNodeParameters/properties/defaultValue/properties/variableValue",
        "options" : {
          "format" : "twinList"
        },
        "providedOptions" : [ "possibleValues" ]
      }, {
        "type" : "Control",
        "scope" : "#/properties/model/properties/flowVariableName",
        "options" : {
          "validation" : {
            "pattern" : {
              "errorMessage" : "The string must start and end with a non-whitespace character.",
              "parameters" : {
                "pattern" : "\\S(.*\\S)?"
              }
            }
          }
        }
      } ]
    }, {
      "label" : "Re-execution",
      "type" : "Section",
      "elements" : [ {
        "type" : "Control",
        "scope" : "#/properties/model/properties/triggerReExecution",
        "options" : {
          "format" : "checkbox"
        }
      } ]
    } ]
  },
  "persist" : {
    "type" : "object",
    "properties" : {
      "model" : {
        "type" : "object",
        "properties" : {
          "label" : { },
          "description" : { },
          "flowVariableName" : { },
          "hideInWizard" : { },
          "customCSS" : { },
          "required" : { },
          "triggerReExecution" : {
            "configKey" : "trigger_reexecution"
          },
          "multipleSelectionNodeParameters" : {
            "type" : "object",
            "properties" : {
              "overwrittenByValueMessage" : { },
              "defaultValue" : {
                "type" : "object",
                "properties" : {
                  "variableValue" : {
                    "configPaths" : [ [ "variable_value" ] ]
                  }
                }
              },
              "limitVisOptions" : {
                "type" : "object",
                "properties" : {
                  "selectionType" : {
                    "configKey" : "type"
                  },
                  "limitVisibleOptions" : {
                    "type" : "object",
                    "properties" : {
                      "limitNumberOfVisibleOptions" : {
                        "configKey" : "limit_number_visible_options"
                      },
                      "numberOfVisibleOptions" : {
                        "configKey" : "number_visible_options"
                      }
                    },
                    "propertiesRoute" : [ ".." ]
                  }
                },
                "propertiesRoute" : [ ".." ]
              },
              "possibleChoices" : {
                "configPaths" : [ [ "possible_choices" ] ]
              }
            },
            "propertiesRoute" : [ ".." ]
          },
          "searchAndIgnoreInvalidValuesParameters" : {
            "type" : "object",
            "properties" : {
              "enableSearch" : {
                "configKey" : "enable_search"
              },
              "ignoreInvalidValues" : {
                "configKey" : "ignore_invalid_values"
              }
            },
            "propertiesRoute" : [ ".." ]
          }
        }
      }
    }
  },
  "initialUpdates" : [ {
    "scope" : "#/properties/model/properties/multipleSelectionNodeParameters/properties/defaultValue/properties/variableValue",
    "providedOptionName" : "possibleValues",
    "values" : [ {
      "indices" : [ ],
      "value" : [ ]
    } ]
  }, {
    "scope" : "#/properties/model/properties/multipleSelectionNodeParameters/properties/limitVisOptions/properties/selectionType",
    "providedOptionName" : "possibleValues",
    "values" : [ {
      "indices" : [ ],
      "value" : [ {
        "id" : "Check boxes (horizontal)",
        "text" : "Check boxes (horizontal)"
      }, {
        "id" : "Check boxes (vertical)",
        "text" : "Check boxes (vertical)"
      }, {
        "id" : "List",
        "text" : "List"
      }, {
        "id" : "Twinlist",
        "text" : "Twinlist"
      }, {
        "id" : "ComboBox",
        "text" : "ComboBox"
      } ]
    } ]
  } ],
  "globalUpdates" : [ {
    "trigger" : {
      "id" : "after-open-dialog"
    },
    "triggerInitially" : true,
    "dependencies" : [ "#/properties/model/properties/multipleSelectionNodeParameters/properties/defaultValue/properties/variableValue", "#/properties/model/properties/multipleSelectionNodeParameters/properties/possibleChoices" ]
  }, {
    "trigger" : {
      "scope" : "#/properties/model/properties/multipleSelectionNodeParameters/properties/possibleChoices"
    },
    "dependencies" : [ "#/properties/model/properties/multipleSelectionNodeParameters/properties/defaultValue/properties/variableValue", "#/properties/model/properties/multipleSelectionNodeParameters/properties/possibleChoices" ]
  } ]
}